{"ast":null,"code":"import _slicedToArray from \"/Users/simonfauvre/Documents/GitHub/P7/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/simonfauvre/Documents/GitHub/P7/src/PanelRight.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./PanelRight.css\";\nimport * as restaurantData from \"./data/restaurant.json\";\nimport List from \"./List\";\nimport WrappedMap from \"./Map\";\n\nconst PanelRight = props => {\n  const _useState = useState([...restaurantData.default.features]),\n        _useState2 = _slicedToArray(_useState, 2),\n        restaurants = _useState2[0],\n        setRestaurants = _useState2[1];\n\n  const _useState3 = useState(1),\n        _useState4 = _slicedToArray(_useState3, 2),\n        noteMin = _useState4[0],\n        setNoteMin = _useState4[1];\n\n  const _useState5 = useState(5),\n        _useState6 = _slicedToArray(_useState5, 2),\n        noteMax = _useState6[0],\n        setNoteMax = _useState6[1]; // const moyenneAvis = (restaurant) => {\n  //     var restaurantSelect = restaurants.filter(feature => feature.restaurantID === restaurant.restaurantID);\n  //     const totalStars = restaurant.ratings.map(rating => rating.stars).reduce((previousValue, currentValue, index, array) => {\n  //         var value = index + 1 === array.length ? (previousValue + currentValue) / array.length : previousValue + currentValue;\n  //         restaurantSelect[0].average = parseFloat(value.toFixed(1));\n  //         return value;\n  //     });\n  //     restaurantSelect[0].average = parseFloat(totalStars.toFixed(1));\n  // }\n  // const defineDisplay = (restaurant) => {\n  //     var restaurantSelect = restaurants.filter(feature => feature.restaurantID === restaurant.restaurantID);\n  //     restaurantSelect[0].display = false;\n  // }\n  // const defineDisplayDetails = (restaurant) => {\n  //     var restaurantSelect = restaurants.filter(feature => feature.restaurantID === restaurant.restaurantID);\n  //     restaurantSelect[0].displayDetails = false;\n  // }\n\n\n  const handleMinChange = e => {\n    setNoteMin(parseInt(e.target.value));\n  };\n\n  useEffect(() => {\n    setNoteMin(noteMin); //console.log(\"valMin apres\", noteMin);\n\n    filterDatas();\n  }, [noteMin]);\n\n  const handleMaxChange = e => {\n    setNoteMax(parseInt(e.target.value));\n  };\n\n  useEffect(() => {\n    setNoteMax(noteMax); //console.log(\"valMax apres\", noteMax);\n\n    filterDatas();\n  }, [noteMax]);\n\n  const filterDatas = () => {\n    setRestaurants(restaurantData.default.features.filter(restaurant => restaurant.average >= noteMin && restaurant.average <= noteMax));\n  };\n\n  useEffect(() => {\n    setRestaurants(restaurants); //console.log(\"restaurant après : \", restaurants);\n  }, [restaurants]); // const initRestaurant = () => {\n  //   restaurants.map(restaurant => (\n  //     moyenneAvis(restaurant),\n  //     defineDisplay(restaurant),\n  //     defineDisplayDetails(restaurant)\n  //   ));\n  // }\n  // initRestaurant();\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"sectionTitre\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"titreSite\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"\",\n    className: \"titre\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"Restaurants\")), React.createElement(\"div\", {\n    className: \"filtreAvis\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"select\", {\n    id: \"select-min\",\n    value: noteMin,\n    onChange: e => handleMinChange(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: 1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"1\"), React.createElement(\"option\", {\n    value: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"2\"), React.createElement(\"option\", {\n    value: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"3\"), React.createElement(\"option\", {\n    value: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"4\"), React.createElement(\"option\", {\n    value: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"5\")), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"\\xE0\"), React.createElement(\"select\", {\n    id: \"select-max\",\n    value: noteMax,\n    onChange: e => handleMaxChange(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: 1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"1\"), React.createElement(\"option\", {\n    value: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"2\"), React.createElement(\"option\", {\n    value: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"3\"), React.createElement(\"option\", {\n    value: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"4\"), React.createElement(\"option\", {\n    value: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"5\")), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"\\xE9toiles\"))), React.createElement(List, {\n    valueMin: noteMin,\n    valueMax: noteMax,\n    restaurantDisplay: restaurants,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }));\n};\n\nexport default PanelRight;","map":{"version":3,"sources":["/Users/simonfauvre/Documents/GitHub/P7/src/PanelRight.js"],"names":["React","useState","useEffect","restaurantData","List","WrappedMap","PanelRight","props","default","features","restaurants","setRestaurants","noteMin","setNoteMin","noteMax","setNoteMax","handleMinChange","e","parseInt","target","value","filterDatas","handleMaxChange","filter","restaurant","average"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAO,kBAAP;AACA,OAAO,KAAKC,cAAZ,MAAgC,wBAAhC;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,UAAP,MAAuB,OAAvB;;AAEA,MAAMC,UAAU,GAAGC,KAAK,IAAI;AAAA,oBACcN,QAAQ,CAAC,CAAC,GAAGE,cAAc,CAACK,OAAf,CAAuBC,QAA3B,CAAD,CADtB;AAAA;AAAA,QACjBC,WADiB;AAAA,QACJC,cADI;;AAAA,qBAEMV,QAAQ,CAAC,CAAD,CAFd;AAAA;AAAA,QAEjBW,OAFiB;AAAA,QAERC,UAFQ;;AAAA,qBAGMZ,QAAQ,CAAC,CAAD,CAHd;AAAA;AAAA,QAGjBa,OAHiB;AAAA,QAGRC,UAHQ,kBAKxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;AAEA,QAAMC,eAAe,GAAIC,CAAD,IAAO;AAC3BJ,IAAAA,UAAU,CAACK,QAAQ,CAACD,CAAC,CAACE,MAAF,CAASC,KAAV,CAAT,CAAV;AACH,GAFD;;AAGAlB,EAAAA,SAAS,CAAC,MAAM;AACdW,IAAAA,UAAU,CAACD,OAAD,CAAV,CADc,CAEd;;AACAS,IAAAA,WAAW;AACZ,GAJQ,EAIP,CAACT,OAAD,CAJO,CAAT;;AAMA,QAAMU,eAAe,GAAIL,CAAD,IAAO;AAC3BF,IAAAA,UAAU,CAACG,QAAQ,CAACD,CAAC,CAACE,MAAF,CAASC,KAAV,CAAT,CAAV;AACH,GAFD;;AAGAlB,EAAAA,SAAS,CAAC,MAAM;AACda,IAAAA,UAAU,CAACD,OAAD,CAAV,CADc,CAEd;;AACAO,IAAAA,WAAW;AACZ,GAJQ,EAIP,CAACP,OAAD,CAJO,CAAT;;AAMA,QAAMO,WAAW,GAAG,MAAM;AACxBV,IAAAA,cAAc,CAACR,cAAc,CAACK,OAAf,CAAuBC,QAAvB,CAAgCc,MAAhC,CAAuCC,UAAU,IAAIA,UAAU,CAACC,OAAX,IAAsBb,OAAtB,IAAiCY,UAAU,CAACC,OAAX,IAAsBX,OAA5G,CAAD,CAAd;AACD,GAFD;;AAGAZ,EAAAA,SAAS,CAAC,MAAM;AACdS,IAAAA,cAAc,CAACD,WAAD,CAAd,CADc,CAEd;AACD,GAHQ,EAGP,CAACA,WAAD,CAHO,CAAT,CA9CwB,CAmDxB;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2B;AAAG,IAAA,IAAI,EAAC,EAAR;AAAW,IAAA,SAAS,EAAC,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAA3B,CADJ,EAEI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,EAAE,EAAC,YAAX;AAAwB,IAAA,KAAK,EAAEE,OAA/B;AAAwC,IAAA,QAAQ,EAAEK,CAAC,IAAID,eAAe,CAACC,CAAD,CAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADJ,EAEI;AAAQ,IAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAFJ,EAGI;AAAQ,IAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAHJ,EAII;AAAQ,IAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAJJ,EAKI;AAAQ,IAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SALJ,CADJ,EAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YARJ,EASI;AAAQ,IAAA,EAAE,EAAC,YAAX;AAAwB,IAAA,KAAK,EAAEH,OAA/B;AAAwC,IAAA,QAAQ,EAAEG,CAAC,IAAIK,eAAe,CAACL,CAAD,CAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADJ,EAEI;AAAQ,IAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAFJ,EAGI;AAAQ,IAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAHJ,EAII;AAAQ,IAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAJJ,EAKI;AAAQ,IAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SALJ,CATJ,EAgBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAhBJ,CAFJ,CADJ,EAsBI,oBAAC,IAAD;AAAM,IAAA,QAAQ,EAAEL,OAAhB;AAAyB,IAAA,QAAQ,EAAEE,OAAnC;AAA4C,IAAA,iBAAiB,EAAEJ,WAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtBJ,CADJ;AA0BH,CAvFD;;AAyFA,eAAeJ,UAAf","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport \"./PanelRight.css\";\nimport * as restaurantData from \"./data/restaurant.json\";\nimport List from \"./List\";\nimport WrappedMap from \"./Map\";\n\nconst PanelRight = props => {\n    const [restaurants, setRestaurants] = useState([...restaurantData.default.features]);\n    const [noteMin, setNoteMin] = useState(1);\n    const [noteMax, setNoteMax] = useState(5);\n\n    // const moyenneAvis = (restaurant) => {\n    //     var restaurantSelect = restaurants.filter(feature => feature.restaurantID === restaurant.restaurantID);\n    //     const totalStars = restaurant.ratings.map(rating => rating.stars).reduce((previousValue, currentValue, index, array) => {\n    //         var value = index + 1 === array.length ? (previousValue + currentValue) / array.length : previousValue + currentValue;\n    //         restaurantSelect[0].average = parseFloat(value.toFixed(1));\n    //         return value;\n    //     });\n    //     restaurantSelect[0].average = parseFloat(totalStars.toFixed(1));\n    // }\n\n    // const defineDisplay = (restaurant) => {\n    //     var restaurantSelect = restaurants.filter(feature => feature.restaurantID === restaurant.restaurantID);\n    //     restaurantSelect[0].display = false;\n    // }\n\n    // const defineDisplayDetails = (restaurant) => {\n    //     var restaurantSelect = restaurants.filter(feature => feature.restaurantID === restaurant.restaurantID);\n    //     restaurantSelect[0].displayDetails = false;\n    // }\n\n    const handleMinChange = (e) => {\n        setNoteMin(parseInt(e.target.value));\n    }\n    useEffect(() => {\n      setNoteMin(noteMin);\n      //console.log(\"valMin apres\", noteMin);\n      filterDatas();\n    },[noteMin])\n\n    const handleMaxChange = (e) => {\n        setNoteMax(parseInt(e.target.value));\n    }\n    useEffect(() => {\n      setNoteMax(noteMax);\n      //console.log(\"valMax apres\", noteMax);\n      filterDatas();\n    },[noteMax])\n\n    const filterDatas = () => {\n      setRestaurants(restaurantData.default.features.filter(restaurant => restaurant.average >= noteMin && restaurant.average <= noteMax));\n    }\n    useEffect(() => {\n      setRestaurants(restaurants);\n      //console.log(\"restaurant après : \", restaurants);\n    },[restaurants])\n\n    // const initRestaurant = () => {\n    //   restaurants.map(restaurant => (\n    //     moyenneAvis(restaurant),\n    //     defineDisplay(restaurant),\n    //     defineDisplayDetails(restaurant)\n    //   ));\n    // }\n\n    // initRestaurant();\n\n    return (\n        <div>\n            <div className=\"sectionTitre\">\n                <div className=\"titreSite\"><a href=\"\" className=\"titre\">Restaurants</a></div>\n                <div className=\"filtreAvis\">\n                    <select id=\"select-min\" value={noteMin} onChange={e => handleMinChange(e)}>\n                        <option value={1}>1</option>\n                        <option value={2}>2</option>\n                        <option value={3}>3</option>\n                        <option value={4}>4</option>\n                        <option value={5}>5</option>\n                    </select>\n                    <span>à</span>\n                    <select id=\"select-max\" value={noteMax} onChange={e => handleMaxChange(e)}>\n                        <option value={1}>1</option>\n                        <option value={2}>2</option>\n                        <option value={3}>3</option>\n                        <option value={4}>4</option>\n                        <option value={5}>5</option>\n                    </select>\n                    <span>étoiles</span>\n                </div>\n            </div>\n            <List valueMin={noteMin} valueMax={noteMax} restaurantDisplay={restaurants}/>\n        </div>\n    )\n}\n\nexport default PanelRight;"]},"metadata":{},"sourceType":"module"}