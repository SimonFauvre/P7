{"ast":null,"code":"var _jsxFileName = \"/Users/simonfauvre/Documents/GitHub/P7/src/components/Card.js\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport \"../style/Card.css\";\nimport CardDetails from \"./Card_Details\";\nimport RestaurantContext from \"./RestaurantContext\";\n\nconst Card = props => {\n  //const [restaurant, setRestaurant] = useState(props.restaurant);\n  //const [displayDetails, setDisplayDetails] = useState(false);\n  const _useContext = useContext(RestaurantContext),\n        restaurants = _useContext.restaurants,\n        updateRestaurants = _useContext.updateRestaurants;\n\n  var restaurant;\n  selectOneRestaurant();\n\n  const selectOneRestaurant = () => {\n    return restaurant = restaurants.filter(restau => restau.restaurantID === restaurant.restaurantID)[0];\n  };\n\n  useEffect(() => {\n    setDisplayDetails(displayDetails);\n    console.log(displayDetails);\n  }, [displayDetails]);\n  useEffect(() => {\n    setRestaurant(restaurant);\n    console.log(restaurant);\n  }, [restaurant]);\n\n  const changeDisplayDetails = () => {\n    console.log(displayDetails);\n    setDisplayDetails(!displayDetails);\n    console.log(displayDetails);\n  };\n\n  const displayRestaurant = () => {\n    if (restaurant.display) {\n      return React.createElement(\"li\", {\n        key: restaurant.restaurantID,\n        className: \"itemList\",\n        id: \"restaurant-\" + restaurant.restaurantID,\n        onClick:\n        /*() => setDisplayDetails(!displayDetails)*/\n        changeDisplayDetails,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, (console.log(\"aaa\"), displayDetails ? React.createElement(CardDetails, {\n        restaurant: restaurant,\n        moyenneAvis: restaurant.average,\n        avis: restaurant.ratings,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        className: \"cardRestaurant\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"imgRestaurant\",\n        src: restaurant.img,\n        alt: \"Le restaurant\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          marginTop: \"auto\",\n          marginBottom: \"auto\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, restaurant.restaurantName), React.createElement(\"div\", {\n        className: \"moyenneAvis\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"moyenneAvisText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, restaurant.average), React.createElement(\"img\", {\n        src: \"etoile.png\",\n        className: \"etoileAvis\",\n        alt: \"Etoile des avis\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"adresse\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, restaurant.address)))));\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, displayRestaurant());\n};\n\nexport default Card;","map":{"version":3,"sources":["/Users/simonfauvre/Documents/GitHub/P7/src/components/Card.js"],"names":["React","useState","useEffect","useContext","CardDetails","RestaurantContext","Card","props","restaurants","updateRestaurants","restaurant","selectOneRestaurant","filter","restau","restaurantID","setDisplayDetails","displayDetails","console","log","setRestaurant","changeDisplayDetails","displayRestaurant","display","average","ratings","img","marginTop","marginBottom","restaurantName","address"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useContext} from \"react\";\nimport \"../style/Card.css\";\nimport CardDetails from \"./Card_Details\";\nimport RestaurantContext from \"./RestaurantContext\";\n\nconst Card = props => {\n\n    //const [restaurant, setRestaurant] = useState(props.restaurant);\n    //const [displayDetails, setDisplayDetails] = useState(false);\n\n    const {restaurants, updateRestaurants} = useContext(RestaurantContext);\n    var restaurant;\n    selectOneRestaurant();\n\n    const selectOneRestaurant = () => {\n        return restaurant = restaurants.filter(restau => restau.restaurantID === restaurant.restaurantID)[0];\n    }\n\n    useEffect(() => {\n        setDisplayDetails(displayDetails);\n        console.log(displayDetails);\n    },[displayDetails])\n\n    useEffect(() => {\n        setRestaurant(restaurant);\n        console.log(restaurant);\n    },[restaurant])\n\n    const changeDisplayDetails = () => {\n        console.log(displayDetails);\n        setDisplayDetails(!displayDetails);\n        console.log(displayDetails);\n    }\n\n    const displayRestaurant = () => {\n        if(restaurant.display){\n            return(\n            <li \n                key={restaurant.restaurantID} \n                className=\"itemList\" \n                id={\"restaurant-\" + restaurant.restaurantID} \n                onClick={/*() => setDisplayDetails(!displayDetails)*/ changeDisplayDetails}>\n                    {console.log(\"aaa\"),\n                    displayDetails ?\n                    <CardDetails restaurant={restaurant} moyenneAvis={restaurant.average} avis={restaurant.ratings}/> : \n                    <div className=\"cardRestaurant\">\n                        <img className=\"imgRestaurant\" src={restaurant.img} alt=\"Le restaurant\"></img>\n                        <div style={{marginTop: \"auto\", marginBottom: \"auto\"}}>\n                            <h2>{restaurant.restaurantName}</h2>\n                            <div className=\"moyenneAvis\">\n                                <span className=\"moyenneAvisText\">{restaurant.average}</span>\n                                <img src=\"etoile.png\" className=\"etoileAvis\" alt=\"Etoile des avis\"></img>\n                            </div>\n                            <div className=\"adresse\">{restaurant.address}</div>\n                        </div>\n                    </div>}\n            </li>);\n        }\n    }\n\n    return(\n        <div className=\"card\">\n            {displayRestaurant()}\n        </div>\n    );\n}\n\nexport default Card;"]},"metadata":{},"sourceType":"module"}