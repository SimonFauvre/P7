{"ast":null,"code":"import _objectSpread from \"/Users/simonfauvre/Documents/GitHub/P7/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/simonfauvre/Documents/GitHub/P7/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/simonfauvre/Documents/GitHub/P7/src/components/Card.js\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport \"../style/Card.css\";\nimport CardDetails from \"./Card_Details\";\nimport RestaurantContext from \"./RestaurantContext\";\n\nconst Card = props => {\n  const _useContext = useContext(RestaurantContext),\n        restaurants = _useContext.restaurants,\n        updateRestaurants = _useContext.updateRestaurants;\n\n  const _useState = useState(restaurants.filter(restau => restau.restaurantID === props.restaurantID)[0]),\n        _useState2 = _slicedToArray(_useState, 2),\n        restaurant = _useState2[0],\n        setRestaurant = _useState2[1];\n\n  const changeDisplayDetails = e => {\n    if (e.target.className !== \"selectNote\" && e.target.className !== \"textCommentaire\" && e.target.className !== \"btnAjoutCommentaire\") {\n      setRestaurant(_objectSpread({}, restaurant, {\n        displayDetails: !restaurant.displayDetails\n      }));\n      console.log(restaurants);\n      let tmpRestaurants = restaurants;\n      tmpRestaurants.map(restau => restau.restaurantID === restaurant.restaurantID ? restau.displayDetails = !restau.displayDetails : null);\n      console.log(tmpRestaurants);\n      updateRestaurants(tmpRestaurants);\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    key: restaurant.restaurantID,\n    className: \"itemList\",\n    id: \"restaurant-\" + restaurant.restaurantID,\n    onClick: changeDisplayDetails,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, restaurants.filter(restau => restau.restaurantID === props.restaurantID)[0].displayDetails ? React.createElement(CardDetails, {\n    restaurant: restaurant,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }) : React.createElement(\"div\", {\n    className: \"cardRestaurant\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"imgRestaurant\",\n    src: restaurant.img,\n    alt: \"Le restaurant\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    style: {\n      marginTop: \"auto\",\n      marginBottom: \"auto\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, restaurant.restaurantName), React.createElement(\"div\", {\n    className: \"moyenneAvis\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"moyenneAvisText\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, restaurants.filter(restau => restau.restaurantID === props.restaurantID)[0].average), React.createElement(\"img\", {\n    src: \"etoile.png\",\n    className: \"etoileAvis\",\n    alt: \"Etoile des avis\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"nbRatings\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, restaurant.ratings.length, \" avis\")), React.createElement(\"div\", {\n    className: \"adresse\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, restaurant.address)))));\n};\n\nexport default Card;","map":{"version":3,"sources":["/Users/simonfauvre/Documents/GitHub/P7/src/components/Card.js"],"names":["React","useState","useEffect","useContext","CardDetails","RestaurantContext","Card","props","restaurants","updateRestaurants","filter","restau","restaurantID","restaurant","setRestaurant","changeDisplayDetails","e","target","className","displayDetails","console","log","tmpRestaurants","map","img","marginTop","marginBottom","restaurantName","average","ratings","length","address"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useContext} from \"react\";\nimport \"../style/Card.css\";\nimport CardDetails from \"./Card_Details\";\nimport RestaurantContext from \"./RestaurantContext\";\n\nconst Card = props => {\n\n    const {restaurants, updateRestaurants} = useContext(RestaurantContext);\n    const [restaurant, setRestaurant] = useState(restaurants.filter(restau => restau.restaurantID === props.restaurantID)[0]);\n\n    const changeDisplayDetails = (e) => {\n        if (e.target.className !== \"selectNote\" && e.target.className !== \"textCommentaire\" && e.target.className !== \"btnAjoutCommentaire\") {\n            setRestaurant({...restaurant, displayDetails: !restaurant.displayDetails});\n\n            console.log(restaurants);\n            let tmpRestaurants = restaurants;\n            tmpRestaurants.map(restau => \n                restau.restaurantID === restaurant.restaurantID ? restau.displayDetails = !restau.displayDetails : null\n            )\n            console.log(tmpRestaurants);\n            updateRestaurants(tmpRestaurants);\n        }\n    }\n\n    return(\n        <div className=\"card\">\n            <li \n                key={restaurant.restaurantID} \n                className=\"itemList\" \n                id={\"restaurant-\" + restaurant.restaurantID} \n                onClick={changeDisplayDetails}>\n                    {restaurants.filter(restau => restau.restaurantID === props.restaurantID)[0].displayDetails ?\n                    <CardDetails restaurant={restaurant}/> : \n                    <div className=\"cardRestaurant\">\n                        <img className=\"imgRestaurant\" src={restaurant.img} alt=\"Le restaurant\"></img>\n                        <div style={{marginTop: \"auto\", marginBottom: \"auto\"}}>\n                            <h2>{restaurant.restaurantName}</h2>\n                            <div className=\"moyenneAvis\">\n                                <span className=\"moyenneAvisText\">\n                                    { restaurants.filter(restau => restau.restaurantID === props.restaurantID)[0].average }\n                                </span>\n                                <img src=\"etoile.png\" className=\"etoileAvis\" alt=\"Etoile des avis\"></img>\n                                <span className=\"nbRatings\">{restaurant.ratings.length} avis</span>\n                            </div>\n                            <div className=\"adresse\">{restaurant.address}</div>\n                        </div>\n                    </div>}\n            </li>\n        </div>\n    );\n}\n\nexport default Card;"]},"metadata":{},"sourceType":"module"}