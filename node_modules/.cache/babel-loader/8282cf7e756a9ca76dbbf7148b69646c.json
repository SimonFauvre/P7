{"ast":null,"code":"var _jsxFileName = \"/Users/simonfauvre/Documents/GitHub/P7/src/components/Card.js\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport \"../style/Card.css\";\nimport CardDetails from \"./Card_Details\";\nimport RestaurantContext from \"./RestaurantContext\";\n\nconst Card = props => {\n  //const [restaurant, setRestaurant] = useState(props.restaurant);\n  //const [displayDetails, setDisplayDetails] = useState(false);\n  const _useContext = useContext(RestaurantContext),\n        restaurants = _useContext.restaurants,\n        updateRestaurants = _useContext.updateRestaurants;\n\n  const selectOneRestaurant = () => {\n    return restaurants.filter(restau => restau.restaurantID === props.restaurantID)[0];\n  };\n\n  var restaurant = selectOneRestaurant(); // useEffect(() => {\n  //     setDisplayDetails(displayDetails);\n  //     console.log(displayDetails);\n  // },[displayDetails])\n  // useEffect(() => {\n  //     setRestaurant(restaurant);\n  //     console.log(restaurant);\n  // },[restaurant])\n\n  const changeDisplayDetails = () => {\n    restaurant.displayDetails = !restaurant.displayDetails;\n    var allRestaurants = restaurants;\n    console.log(\"restaurant : \", restaurant);\n    console.log(\"allRestaurants : \", allRestaurants);\n    allRestaurants.splice(0, 1, restaurant);\n    console.log(\"allRestaurants : \", allRestaurants);\n    updateRestaurants(allRestaurants);\n  };\n\n  const displayRestaurant = () => {\n    console.log(restaurant.display);\n\n    if (restaurant.display) {\n      return React.createElement(\"li\", {\n        key: restaurant.restaurantID,\n        className: \"itemList\",\n        id: \"restaurant-\" + restaurant.restaurantID,\n        onClick:\n        /*() => setDisplayDetails(!displayDetails)*/\n        changeDisplayDetails,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, (console.log(\"aaa\"), restaurant.displayDetails ? React.createElement(CardDetails, {\n        restaurant: restaurant,\n        moyenneAvis: restaurant.average,\n        avis: restaurant.ratings,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        className: \"cardRestaurant\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"imgRestaurant\",\n        src: restaurant.img,\n        alt: \"Le restaurant\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          marginTop: \"auto\",\n          marginBottom: \"auto\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, restaurant.restaurantName), React.createElement(\"div\", {\n        className: \"moyenneAvis\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"moyenneAvisText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, restaurant.average), React.createElement(\"img\", {\n        src: \"etoile.png\",\n        className: \"etoileAvis\",\n        alt: \"Etoile des avis\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"adresse\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, restaurant.address)))));\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, //displayRestaurant()\n  React.createElement(\"li\", {\n    key: restaurant.restaurantID,\n    className: \"itemList\",\n    id: \"restaurant-\" + restaurant.restaurantID,\n    onClick:\n    /*() => setDisplayDetails(!displayDetails)*/\n    changeDisplayDetails,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, (console.log(\"aaa\"), restaurant.displayDetails ? React.createElement(CardDetails, {\n    restaurant: restaurant,\n    moyenneAvis: restaurant.average,\n    avis: restaurant.ratings,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }) : React.createElement(\"div\", {\n    className: \"cardRestaurant\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"imgRestaurant\",\n    src: restaurant.img,\n    alt: \"Le restaurant\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    style: {\n      marginTop: \"auto\",\n      marginBottom: \"auto\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, restaurant.restaurantName), React.createElement(\"div\", {\n    className: \"moyenneAvis\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"moyenneAvisText\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, restaurant.average), React.createElement(\"img\", {\n    src: \"etoile.png\",\n    className: \"etoileAvis\",\n    alt: \"Etoile des avis\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"adresse\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, restaurant.address))))));\n};\n\nexport default Card;","map":{"version":3,"sources":["/Users/simonfauvre/Documents/GitHub/P7/src/components/Card.js"],"names":["React","useState","useEffect","useContext","CardDetails","RestaurantContext","Card","props","restaurants","updateRestaurants","selectOneRestaurant","filter","restau","restaurantID","restaurant","changeDisplayDetails","displayDetails","allRestaurants","console","log","splice","displayRestaurant","display","average","ratings","img","marginTop","marginBottom","restaurantName","address"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useContext} from \"react\";\nimport \"../style/Card.css\";\nimport CardDetails from \"./Card_Details\";\nimport RestaurantContext from \"./RestaurantContext\";\n\nconst Card = props => {\n\n    //const [restaurant, setRestaurant] = useState(props.restaurant);\n    //const [displayDetails, setDisplayDetails] = useState(false);\n\n    const {restaurants, updateRestaurants} = useContext(RestaurantContext);\n\n    const selectOneRestaurant = () => {\n        return restaurants.filter(restau => restau.restaurantID === props.restaurantID)[0];\n    }\n\n    var restaurant = selectOneRestaurant();\n\n    // useEffect(() => {\n    //     setDisplayDetails(displayDetails);\n    //     console.log(displayDetails);\n    // },[displayDetails])\n\n    // useEffect(() => {\n    //     setRestaurant(restaurant);\n    //     console.log(restaurant);\n    // },[restaurant])\n\n    const changeDisplayDetails = () => {\n        restaurant.displayDetails = !restaurant.displayDetails;\n        var allRestaurants = restaurants;\n        console.log(\"restaurant : \", restaurant);\n        console.log(\"allRestaurants : \", allRestaurants);\n        allRestaurants.splice(0, 1, restaurant);\n        console.log(\"allRestaurants : \", allRestaurants);\n        updateRestaurants(allRestaurants);\n    }\n\n    const displayRestaurant = () => {\n        console.log(restaurant.display)\n        if(restaurant.display){\n            return(\n            <li \n                key={restaurant.restaurantID} \n                className=\"itemList\" \n                id={\"restaurant-\" + restaurant.restaurantID} \n                onClick={/*() => setDisplayDetails(!displayDetails)*/ changeDisplayDetails}>\n                    {console.log(\"aaa\"),\n                    restaurant.displayDetails ?\n                    <CardDetails restaurant={restaurant} moyenneAvis={restaurant.average} avis={restaurant.ratings}/> : \n                    <div className=\"cardRestaurant\">\n                        <img className=\"imgRestaurant\" src={restaurant.img} alt=\"Le restaurant\"></img>\n                        <div style={{marginTop: \"auto\", marginBottom: \"auto\"}}>\n                            <h2>{restaurant.restaurantName}</h2>\n                            <div className=\"moyenneAvis\">\n                                <span className=\"moyenneAvisText\">{restaurant.average}</span>\n                                <img src=\"etoile.png\" className=\"etoileAvis\" alt=\"Etoile des avis\"></img>\n                            </div>\n                            <div className=\"adresse\">{restaurant.address}</div>\n                        </div>\n                    </div>}\n            </li>);\n        }\n    }\n\n    return(\n        <div className=\"card\">\n            {\n            //displayRestaurant()\n                <li \n                    key={restaurant.restaurantID} \n                    className=\"itemList\" \n                    id={\"restaurant-\" + restaurant.restaurantID} \n                    onClick={/*() => setDisplayDetails(!displayDetails)*/ changeDisplayDetails}>\n                        {console.log(\"aaa\"),\n                        restaurant.displayDetails ?\n                        <CardDetails restaurant={restaurant} moyenneAvis={restaurant.average} avis={restaurant.ratings}/> : \n                        <div className=\"cardRestaurant\">\n                            <img className=\"imgRestaurant\" src={restaurant.img} alt=\"Le restaurant\"></img>\n                            <div style={{marginTop: \"auto\", marginBottom: \"auto\"}}>\n                                <h2>{restaurant.restaurantName}</h2>\n                                <div className=\"moyenneAvis\">\n                                    <span className=\"moyenneAvisText\">{restaurant.average}</span>\n                                    <img src=\"etoile.png\" className=\"etoileAvis\" alt=\"Etoile des avis\"></img>\n                                </div>\n                                <div className=\"adresse\">{restaurant.address}</div>\n                            </div>\n                        </div>}\n                </li>\n            }\n        </div>\n    );\n}\n\nexport default Card;"]},"metadata":{},"sourceType":"module"}