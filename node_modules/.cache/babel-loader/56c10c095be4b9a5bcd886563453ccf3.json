{"ast":null,"code":"import _slicedToArray from \"/Users/simonfauvre/Documents/GitHub/P7/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/simonfauvre/Documents/GitHub/P7/src/App.js\";\nimport React, { useState } from \"react\";\nimport \"./PanelRight.css\";\nimport * as restaurantData from \"./data/restaurant.json\";\nimport List from \"./List\";\nimport WrappedMap from \"./Map\";\n\nconst PanelRight = props => {\n  const _useState = useState([\"1\", \"2\", \"3\", \"4\", \"5\"]),\n        _useState2 = _slicedToArray(_useState, 2),\n        valueMin = _useState2[0],\n        setValueMin = _useState2[1];\n\n  const _useState3 = useState([\"1\", \"2\", \"3\", \"4\", \"5\"]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        valueMax = _useState4[0],\n        setValueMax = _useState4[1];\n\n  const _useState5 = useState(1),\n        _useState6 = _slicedToArray(_useState5, 2),\n        valMin = _useState6[0],\n        setValMin = _useState6[1];\n\n  const _useState7 = useState(5),\n        _useState8 = _slicedToArray(_useState7, 2),\n        valMax = _useState8[0],\n        setValMax = _useState8[1];\n\n  const AddMin = valueMin.map(AddMin => AddMin);\n  const AddMax = valueMax.map(AddMax => AddMax);\n\n  const moyenneAvis = restaurant => {\n    var restaurantSelect = restaurantData.features.filter(feature => feature.restaurantID === restaurant.restaurantID);\n    const totalStars = restaurant.ratings.map(rating => rating.stars).reduce((previousValue, currentValue, index, array) => {\n      var value = index + 1 === array.length ? (previousValue + currentValue) / array.length : previousValue + currentValue;\n      restaurantSelect[0].average = parseFloat(value.toFixed(1));\n      return value;\n    });\n    restaurantSelect[0].average = parseFloat(totalStars.toFixed(1));\n  };\n\n  const defineDisplay = restaurant => {\n    var restaurantSelect = restaurantData.features.filter(feature => feature.restaurantID === restaurant.restaurantID);\n    restaurantSelect[0].display = false;\n  };\n\n  const defineDisplayDetails = restaurant => {\n    var restaurantSelect = restaurantData.features.filter(feature => feature.restaurantID === restaurant.restaurantID);\n    restaurantSelect[0].displayDetails = false;\n  };\n\n  {\n    restaurantData.features.map(restaurant => (moyenneAvis(restaurant), defineDisplay(restaurant), defineDisplayDetails(restaurant)));\n  }\n  restaurantDisplay = restaurantData.features;\n\n  const handleMinChange = e => {\n    console.log(\"valueMin[e.target.value] : \", valueMin[e.target.value]);\n    setValMin(valueMin[e.target.value]);\n  };\n\n  const handleMaxChange = e => {\n    console.log(\"valueMax[e.target.value] : \", valueMax[e.target.value]);\n    setValMax(valueMax[e.target.value]);\n  };\n\n  const filterDatas = () => {\n    return restaurantData.features.filter(feature => feature.average >= valMin && feature.average <= valMax);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"sectionTitre\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"titreSite\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"\",\n    className: \"titre\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Restaurants\")), React.createElement(\"div\", {\n    className: \"filtreAvis\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"select\", {\n    id: \"select-min\",\n    onChange: e => handleMinChange(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, AddMin.map((number, key) => React.createElement(\"option\", {\n    key: key,\n    value: key,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, number))), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"\\xE0\"), React.createElement(\"select\", {\n    id: \"select-max\",\n    onChange: e => handleMaxChange(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, AddMax.map((number, key) => React.createElement(\"option\", {\n    key: key,\n    value: key,\n    selected: \"5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, number))), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"\\xE9toiles\"))), React.createElement(List, {\n    valueMin: valMin,\n    valueMax: valMax,\n    restaurantDisplay: filterDatas(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }));\n};\n\nexport default function App(restaurantDisplay) {\n  return React.createElement(\"div\", {\n    className: \"appCSS\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      width: '65vw',\n      height: '100vh'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(WrappedMap, {\n    googleMapURL: `https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyBbXlKpycaKnkWqib5h17gluphKw_nLENs`,\n    loadingElement: React.createElement(\"div\", {\n      style: {\n        height: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }),\n    containerElement: React.createElement(\"div\", {\n      style: {\n        height: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }),\n    mapElement: React.createElement(\"div\", {\n      style: {\n        height: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }),\n    restaurant: restaurantDisplay,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    style: {\n      width: '35vw',\n      height: '100vh'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"general\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(PanelRight, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }))));\n}","map":{"version":3,"sources":["/Users/simonfauvre/Documents/GitHub/P7/src/App.js"],"names":["React","useState","restaurantData","List","WrappedMap","PanelRight","props","valueMin","setValueMin","valueMax","setValueMax","valMin","setValMin","valMax","setValMax","AddMin","map","AddMax","moyenneAvis","restaurant","restaurantSelect","features","filter","feature","restaurantID","totalStars","ratings","rating","stars","reduce","previousValue","currentValue","index","array","value","length","average","parseFloat","toFixed","defineDisplay","display","defineDisplayDetails","displayDetails","restaurantDisplay","handleMinChange","e","console","log","target","handleMaxChange","filterDatas","number","key","App","width","height"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAO,kBAAP;AACA,OAAO,KAAKC,cAAZ,MAAgC,wBAAhC;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,UAAP,MAAuB,OAAvB;;AAEA,MAAMC,UAAU,GAAGC,KAAK,IAAI;AAAA,oBACQL,QAAQ,CAAC,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,CAAD,CADhB;AAAA;AAAA,QACjBM,QADiB;AAAA,QACPC,WADO;;AAAA,qBAEQP,QAAQ,CAAC,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,CAAD,CAFhB;AAAA;AAAA,QAEjBQ,QAFiB;AAAA,QAEPC,WAFO;;AAAA,qBAGIT,QAAQ,CAAC,CAAD,CAHZ;AAAA;AAAA,QAGjBU,MAHiB;AAAA,QAGTC,SAHS;;AAAA,qBAIIX,QAAQ,CAAC,CAAD,CAJZ;AAAA;AAAA,QAIjBY,MAJiB;AAAA,QAITC,SAJS;;AAMxB,QAAMC,MAAM,GAAGR,QAAQ,CAACS,GAAT,CAAaD,MAAM,IAAIA,MAAvB,CAAf;AACA,QAAME,MAAM,GAAGR,QAAQ,CAACO,GAAT,CAAaC,MAAM,IAAIA,MAAvB,CAAf;;AAEA,QAAMC,WAAW,GAAIC,UAAD,IAAgB;AAChC,QAAIC,gBAAgB,GAAGlB,cAAc,CAACmB,QAAf,CAAwBC,MAAxB,CAA+BC,OAAO,IAAIA,OAAO,CAACC,YAAR,KAAyBL,UAAU,CAACK,YAA9E,CAAvB;AACA,UAAMC,UAAU,GAAGN,UAAU,CAACO,OAAX,CAAmBV,GAAnB,CAAuBW,MAAM,IAAIA,MAAM,CAACC,KAAxC,EAA+CC,MAA/C,CAAsD,CAACC,aAAD,EAAgBC,YAAhB,EAA8BC,KAA9B,EAAqCC,KAArC,KAA+C;AACpH,UAAIC,KAAK,GAAGF,KAAK,GAAG,CAAR,KAAcC,KAAK,CAACE,MAApB,GAA6B,CAACL,aAAa,GAAGC,YAAjB,IAAiCE,KAAK,CAACE,MAApE,GAA6EL,aAAa,GAAGC,YAAzG;AACAX,MAAAA,gBAAgB,CAAC,CAAD,CAAhB,CAAoBgB,OAApB,GAA8BC,UAAU,CAACH,KAAK,CAACI,OAAN,CAAc,CAAd,CAAD,CAAxC;AACA,aAAOJ,KAAP;AACH,KAJkB,CAAnB;AAKAd,IAAAA,gBAAgB,CAAC,CAAD,CAAhB,CAAoBgB,OAApB,GAA8BC,UAAU,CAACZ,UAAU,CAACa,OAAX,CAAmB,CAAnB,CAAD,CAAxC;AACH,GARD;;AAUA,QAAMC,aAAa,GAAIpB,UAAD,IAAgB;AAClC,QAAIC,gBAAgB,GAAGlB,cAAc,CAACmB,QAAf,CAAwBC,MAAxB,CAA+BC,OAAO,IAAIA,OAAO,CAACC,YAAR,KAAyBL,UAAU,CAACK,YAA9E,CAAvB;AACAJ,IAAAA,gBAAgB,CAAC,CAAD,CAAhB,CAAoBoB,OAApB,GAA8B,KAA9B;AACH,GAHD;;AAKA,QAAMC,oBAAoB,GAAItB,UAAD,IAAgB;AACzC,QAAIC,gBAAgB,GAAGlB,cAAc,CAACmB,QAAf,CAAwBC,MAAxB,CAA+BC,OAAO,IAAIA,OAAO,CAACC,YAAR,KAAyBL,UAAU,CAACK,YAA9E,CAAvB;AACAJ,IAAAA,gBAAgB,CAAC,CAAD,CAAhB,CAAoBsB,cAApB,GAAqC,KAArC;AACH,GAHD;;AAKA;AAACxC,IAAAA,cAAc,CAACmB,QAAf,CAAwBL,GAAxB,CAA4BG,UAAU,KACnCD,WAAW,CAACC,UAAD,CAAX,EACAoB,aAAa,CAACpB,UAAD,CADb,EAEAsB,oBAAoB,CAACtB,UAAD,CAHe,CAAtC;AAIE;AAEHwB,EAAAA,iBAAiB,GAAGzC,cAAc,CAACmB,QAAnC;;AAEA,QAAMuB,eAAe,GAAIC,CAAD,IAAO;AAC3BC,IAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CxC,QAAQ,CAACsC,CAAC,CAACG,MAAF,CAASd,KAAV,CAAnD;AACAtB,IAAAA,SAAS,CAACL,QAAQ,CAACsC,CAAC,CAACG,MAAF,CAASd,KAAV,CAAT,CAAT;AACH,GAHD;;AAKA,QAAMe,eAAe,GAAIJ,CAAD,IAAO;AAC3BC,IAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CtC,QAAQ,CAACoC,CAAC,CAACG,MAAF,CAASd,KAAV,CAAnD;AACApB,IAAAA,SAAS,CAACL,QAAQ,CAACoC,CAAC,CAACG,MAAF,CAASd,KAAV,CAAT,CAAT;AACH,GAHD;;AAKA,QAAMgB,WAAW,GAAG,MAAM;AACtB,WAAOhD,cAAc,CAACmB,QAAf,CAAwBC,MAAxB,CAA+BC,OAAO,IAAIA,OAAO,CAACa,OAAR,IAAmBzB,MAAnB,IAA6BY,OAAO,CAACa,OAAR,IAAmBvB,MAA1F,CAAP;AACH,GAFD;;AAIA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2B;AAAG,IAAA,IAAI,EAAC,EAAR;AAAW,IAAA,SAAS,EAAC,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAA3B,CADJ,EAEI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,EAAE,EAAC,YAAX;AAAwB,IAAA,QAAQ,EAAEgC,CAAC,IAAID,eAAe,CAACC,CAAD,CAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK9B,MAAM,CAACC,GAAP,CAAW,CAACmC,MAAD,EAASC,GAAT,KAAiB;AAAQ,IAAA,GAAG,EAAEA,GAAb;AAAkB,IAAA,KAAK,EAAEA,GAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA+BD,MAA/B,CAA5B,CADL,CADJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ,EAKI;AAAQ,IAAA,EAAE,EAAC,YAAX;AAAwB,IAAA,QAAQ,EAAEN,CAAC,IAAII,eAAe,CAACJ,CAAD,CAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK5B,MAAM,CAACD,GAAP,CAAW,CAACmC,MAAD,EAASC,GAAT,KAAiB;AAAQ,IAAA,GAAG,EAAEA,GAAb;AAAkB,IAAA,KAAK,EAAEA,GAAzB;AAA8B,IAAA,QAAQ,EAAC,GAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA4CD,MAA5C,CAA5B,CADL,CALJ,EAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBARJ,CAFJ,CADJ,EAcI,oBAAC,IAAD;AAAM,IAAA,QAAQ,EAAExC,MAAhB;AAAwB,IAAA,QAAQ,EAAEE,MAAlC;AAA0C,IAAA,iBAAiB,EAAEqC,WAAW,EAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAdJ,CADJ;AAkBH,CArED;;AAuEA,eAAe,SAASG,GAAT,CAAaV,iBAAb,EAAgC;AAC7C,SACE;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,KAAK,EAAE;AAACW,MAAAA,KAAK,EAAE,MAAR;AAAgBC,MAAAA,MAAM,EAAE;AAAxB,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AAAY,IAAA,YAAY,EAAG,+HAA3B;AACE,IAAA,cAAc,EAAE;AAAK,MAAA,KAAK,EAAE;AAAEA,QAAAA,MAAM,EAAE;AAAV,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADlB;AAEE,IAAA,gBAAgB,EAAE;AAAK,MAAA,KAAK,EAAE;AAAEA,QAAAA,MAAM,EAAE;AAAV,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFpB;AAGE,IAAA,UAAU,EAAE;AAAK,MAAA,KAAK,EAAE;AAAEA,QAAAA,MAAM,EAAE;AAAV,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHd;AAIE,IAAA,UAAU,EAAEZ,iBAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EASE;AAAK,IAAA,KAAK,EAAE;AAACW,MAAAA,KAAK,EAAE,MAAR;AAAgBC,MAAAA,MAAM,EAAE;AAAxB,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CATF,CADF;AAiBD","sourcesContent":["import React, {useState} from \"react\";\nimport \"./PanelRight.css\";\nimport * as restaurantData from \"./data/restaurant.json\";\nimport List from \"./List\";\nimport WrappedMap from \"./Map\";\n\nconst PanelRight = props => {\n    const [valueMin, setValueMin] = useState([\"1\", \"2\", \"3\", \"4\", \"5\"]);\n    const [valueMax, setValueMax] = useState([\"1\", \"2\", \"3\", \"4\", \"5\"]);\n    const [valMin, setValMin] = useState(1);\n    const [valMax, setValMax] = useState(5);\n\n    const AddMin = valueMin.map(AddMin => AddMin);\n    const AddMax = valueMax.map(AddMax => AddMax);\n\n    const moyenneAvis = (restaurant) => {\n        var restaurantSelect = restaurantData.features.filter(feature => feature.restaurantID === restaurant.restaurantID);\n        const totalStars = restaurant.ratings.map(rating => rating.stars).reduce((previousValue, currentValue, index, array) => {\n            var value = index + 1 === array.length ? (previousValue + currentValue) / array.length : previousValue + currentValue;\n            restaurantSelect[0].average = parseFloat(value.toFixed(1));\n            return value;\n        });\n        restaurantSelect[0].average = parseFloat(totalStars.toFixed(1));\n    }\n\n    const defineDisplay = (restaurant) => {\n        var restaurantSelect = restaurantData.features.filter(feature => feature.restaurantID === restaurant.restaurantID);\n        restaurantSelect[0].display = false;\n    }\n\n    const defineDisplayDetails = (restaurant) => {\n        var restaurantSelect = restaurantData.features.filter(feature => feature.restaurantID === restaurant.restaurantID);\n        restaurantSelect[0].displayDetails = false;\n    }\n\n    {restaurantData.features.map(restaurant => (\n        moyenneAvis(restaurant),\n        defineDisplay(restaurant),\n        defineDisplayDetails(restaurant)\n    ))}\n    \n    restaurantDisplay = restaurantData.features;\n\n    const handleMinChange = (e) => {\n        console.log(\"valueMin[e.target.value] : \", valueMin[e.target.value]);\n        setValMin(valueMin[e.target.value]);\n    }\n\n    const handleMaxChange = (e) => {\n        console.log(\"valueMax[e.target.value] : \", valueMax[e.target.value]);\n        setValMax(valueMax[e.target.value]);\n    }\n\n    const filterDatas = () => {\n        return restaurantData.features.filter(feature => feature.average >= valMin && feature.average <= valMax);\n    }\n\n    return (\n        <div>\n            <div className=\"sectionTitre\">\n                <div className=\"titreSite\"><a href=\"\" className=\"titre\">Restaurants</a></div>\n                <div className=\"filtreAvis\">\n                    <select id=\"select-min\" onChange={e => handleMinChange(e)}>\n                        {AddMin.map((number, key) => <option key={key} value={key}>{number}</option>)}\n                    </select>\n                    <span>à</span>\n                    <select id=\"select-max\" onChange={e => handleMaxChange(e)}>\n                        {AddMax.map((number, key) => <option key={key} value={key} selected=\"5\">{number}</option>)}\n                    </select>\n                    <span>étoiles</span>\n                </div>\n            </div>\n            <List valueMin={valMin} valueMax={valMax} restaurantDisplay={filterDatas()}/>\n        </div>\n    )\n}\n\nexport default function App(restaurantDisplay) {  \n  return (\n    <div className=\"appCSS\">\n      <div style={{width: '65vw', height: '100vh'}}>\n        <WrappedMap googleMapURL={`https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyBbXlKpycaKnkWqib5h17gluphKw_nLENs`}\n          loadingElement={<div style={{ height: \"100%\" }} />}\n          containerElement={<div style={{ height: \"100%\" }} />}\n          mapElement={<div style={{ height: \"100%\" }} />}\n          restaurant={restaurantDisplay}\n        />\n      </div>\n      <div style={{width: '35vw', height: '100vh'}}>\n        <div className=\"general\">\n          <PanelRight/>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}