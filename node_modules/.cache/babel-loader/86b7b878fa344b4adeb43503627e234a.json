{"ast":null,"code":"import _slicedToArray from \"/Users/simonfauvre/Documents/GitHub/P7/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/simonfauvre/Documents/GitHub/P7/src/Card.js\";\nimport React, { useState } from \"react\";\nimport \"./List.css\";\nimport CardDetails from \"./Card_Details\";\n\nconst Card = props => {\n  const _useState = useState(props),\n        _useState2 = _slicedToArray(_useState, 2),\n        display = _useState2[0],\n        setDisplay = _useState2[1];\n\n  const _useState3 = useState(props),\n        _useState4 = _slicedToArray(_useState3, 2),\n        displayDetails = _useState4[0],\n        setDisplayDetails = _useState4[1];\n\n  const moyenneAvis = restaurant => {\n    const totalStars = restaurant.ratings.map(rating => rating.stars).reduce((previousValue, currentValue, index, array) => {\n      return index + 1 === array.length ? (previousValue + currentValue) / array.length : previousValue + currentValue;\n    });\n    return totalStars.toFixed(1);\n  };\n\n  const clickOnRestaurant = (displayDetails, restaurant) => {\n    if (displayDetails) {\n      document.getElementsByClassName(\"list\")[0].hidden = true;\n      document.getElementsByClassName(\"titreSite\")[0].children[0].textContent = \"Détails\";\n      return React.createElement(CardDetails, {\n        restaurant: restaurant,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22\n        },\n        __self: this\n      });\n    }\n  };\n\n  const displayRestaurant = (display, displayDetails) => {\n    console.log(displayDetails);\n\n    if (display) {\n      return React.createElement(\"li\", {\n        key: props.restaurant.restaurantID,\n        className: \"itemList\",\n        onClick: () => displayDetails = true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, displayDetails, displayDetails ? React.createElement(CardDetails, {\n        restaurant: props.restaurant,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"imgRestaurant\",\n        src: props.restaurant.img,\n        alt: \"Le restaurant\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          marginTop: \"auto\",\n          marginBottom: \"auto\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, props.restaurant.restaurantName), React.createElement(\"div\", {\n        className: \"moyenneAvis\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: {\n          verticalAlign: 'middle'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, moyenneAvis(props.restaurant)), React.createElement(\"img\", {\n        src: \"etoile.png\",\n        className: \"imgAvis\",\n        alt: \"Etoile des avis\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"adresse\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, props.restaurant.address))));\n    }\n  };\n\n  console.log(props);\n  return React.createElement(\"div\", {\n    className: \"card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, displayRestaurant(props.display, props.displayDetails));\n};\n\nexport default Card;","map":{"version":3,"sources":["/Users/simonfauvre/Documents/GitHub/P7/src/Card.js"],"names":["React","useState","CardDetails","Card","props","display","setDisplay","displayDetails","setDisplayDetails","moyenneAvis","restaurant","totalStars","ratings","map","rating","stars","reduce","previousValue","currentValue","index","array","length","toFixed","clickOnRestaurant","document","getElementsByClassName","hidden","children","textContent","displayRestaurant","console","log","restaurantID","img","marginTop","marginBottom","restaurantName","verticalAlign","address"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAO,YAAP;AACA,OAAOC,WAAP,MAAwB,gBAAxB;;AAEA,MAAMC,IAAI,GAAGC,KAAK,IAAI;AAAA,oBAEYH,QAAQ,CAACG,KAAD,CAFpB;AAAA;AAAA,QAEXC,OAFW;AAAA,QAEFC,UAFE;;AAAA,qBAG0BL,QAAQ,CAACG,KAAD,CAHlC;AAAA;AAAA,QAGXG,cAHW;AAAA,QAGKC,iBAHL;;AAKlB,QAAMC,WAAW,GAAIC,UAAD,IAAgB;AAChC,UAAMC,UAAU,GAAGD,UAAU,CAACE,OAAX,CAAmBC,GAAnB,CAAuBC,MAAM,IAAIA,MAAM,CAACC,KAAxC,EAA+CC,MAA/C,CAAsD,CAACC,aAAD,EAAgBC,YAAhB,EAA8BC,KAA9B,EAAqCC,KAArC,KAA+C;AACpH,aAAOD,KAAK,GAAG,CAAR,KAAcC,KAAK,CAACC,MAApB,GAA6B,CAACJ,aAAa,GAAGC,YAAjB,IAAiCE,KAAK,CAACC,MAApE,GAA6EJ,aAAa,GAAGC,YAApG;AACH,KAFkB,CAAnB;AAGA,WAAOP,UAAU,CAACW,OAAX,CAAmB,CAAnB,CAAP;AACH,GALD;;AAOA,QAAMC,iBAAiB,GAAG,CAAChB,cAAD,EAAiBG,UAAjB,KAAgC;AACtD,QAAGH,cAAH,EAAkB;AACdiB,MAAAA,QAAQ,CAACC,sBAAT,CAAgC,MAAhC,EAAwC,CAAxC,EAA2CC,MAA3C,GAAoD,IAApD;AACAF,MAAAA,QAAQ,CAACC,sBAAT,CAAgC,WAAhC,EAA6C,CAA7C,EAAgDE,QAAhD,CAAyD,CAAzD,EAA4DC,WAA5D,GAA0E,SAA1E;AACA,aACI,oBAAC,WAAD;AAAa,QAAA,UAAU,EAAElB,UAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAGH;AACJ,GARD;;AAUA,QAAMmB,iBAAiB,GAAG,CAACxB,OAAD,EAAUE,cAAV,KAA6B;AACnDuB,IAAAA,OAAO,CAACC,GAAR,CAAYxB,cAAZ;;AACA,QAAGF,OAAH,EAAW;AACP,aACA;AAAI,QAAA,GAAG,EAAED,KAAK,CAACM,UAAN,CAAiBsB,YAA1B;AAAwC,QAAA,SAAS,EAAC,UAAlD;AAA6D,QAAA,OAAO,EAAG,MAAMzB,cAAc,GAAG,IAA9F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKA,cADL,EAEKA,cAAc,GACf,oBAAC,WAAD;AAAa,QAAA,UAAU,EAAEH,KAAK,CAACM,UAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADe,GAEf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,eAAf;AAA+B,QAAA,GAAG,EAAEN,KAAK,CAACM,UAAN,CAAiBuB,GAArD;AAA0D,QAAA,GAAG,EAAC,eAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAK,QAAA,KAAK,EAAE;AAACC,UAAAA,SAAS,EAAE,MAAZ;AAAoBC,UAAAA,YAAY,EAAE;AAAlC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAK/B,KAAK,CAACM,UAAN,CAAiB0B,cAAtB,CADJ,EAEI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,KAAK,EAAE;AAACC,UAAAA,aAAa,EAAC;AAAf,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAwC5B,WAAW,CAACL,KAAK,CAACM,UAAP,CAAnD,CADJ,EAEI;AAAK,QAAA,GAAG,EAAC,YAAT;AAAsB,QAAA,SAAS,EAAC,SAAhC;AAA0C,QAAA,GAAG,EAAC,iBAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CAFJ,EAMI;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA0BN,KAAK,CAACM,UAAN,CAAiB4B,OAA3C,CANJ,CAFJ,CAJJ,CADA;AAiBH;AACJ,GArBD;;AAuBJR,EAAAA,OAAO,CAACC,GAAR,CAAY3B,KAAZ;AACI,SACI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKyB,iBAAiB,CAACzB,KAAK,CAACC,OAAP,EAAgBD,KAAK,CAACG,cAAtB,CADtB,CADJ;AAKH,CAnDD;;AAqDA,eAAeJ,IAAf","sourcesContent":["import React, {useState} from \"react\";\nimport \"./List.css\";\nimport CardDetails from \"./Card_Details\";\n\nconst Card = props => {\n\n    const [display, setDisplay] = useState(props);\n    const [displayDetails, setDisplayDetails] = useState(props);\n    \n    const moyenneAvis = (restaurant) => {\n        const totalStars = restaurant.ratings.map(rating => rating.stars).reduce((previousValue, currentValue, index, array) => {\n            return index + 1 === array.length ? (previousValue + currentValue) / array.length : previousValue + currentValue;\n        });\n        return totalStars.toFixed(1);\n    }\n\n    const clickOnRestaurant = (displayDetails, restaurant) => {        \n        if(displayDetails){\n            document.getElementsByClassName(\"list\")[0].hidden = true;\n            document.getElementsByClassName(\"titreSite\")[0].children[0].textContent = \"Détails\";\n            return(\n                <CardDetails restaurant={restaurant}/>\n            );\n        }\n    }\n\n    const displayRestaurant = (display, displayDetails) => {\n        console.log(displayDetails)\n        if(display){\n            return(\n            <li key={props.restaurant.restaurantID} className=\"itemList\" onClick= {() => displayDetails = true}>\n                {displayDetails}\n                {displayDetails ? \n                <CardDetails restaurant={props.restaurant}/> : \n                <div>\n                    <img className=\"imgRestaurant\" src={props.restaurant.img} alt=\"Le restaurant\"></img>\n                    <div style={{marginTop: \"auto\", marginBottom: \"auto\"}}>\n                        <h2>{props.restaurant.restaurantName}</h2>\n                        <div className=\"moyenneAvis\">\n                            <span style={{verticalAlign:'middle'}}>{moyenneAvis(props.restaurant)}</span>\n                            <img src=\"etoile.png\" className=\"imgAvis\" alt=\"Etoile des avis\"></img>\n                        </div>\n                        <div className=\"adresse\">{props.restaurant.address}</div>\n                    </div>\n                </div>}\n            </li>);\n        }\n    }\n\nconsole.log(props)\n    return(\n        <div className=\"card\">\n            {displayRestaurant(props.display, props.displayDetails)}\n        </div>\n    );\n}\n\nexport default Card;"]},"metadata":{},"sourceType":"module"}