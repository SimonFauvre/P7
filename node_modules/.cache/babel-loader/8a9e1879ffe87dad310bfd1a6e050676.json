{"ast":null,"code":"import _slicedToArray from \"/Users/simonfauvre/Documents/GitHub/P7/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/simonfauvre/Documents/GitHub/P7/src/components/Card.js\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport \"../style/Card.css\";\nimport CardDetails from \"./Card_Details\";\nimport RestaurantContext from \"./RestaurantContext\";\n\nconst Card = props => {\n  const _useContext = useContext(RestaurantContext),\n        restaurants = _useContext.restaurants,\n        updateRestaurants = _useContext.updateRestaurants;\n\n  const _useState = useState(restaurants.filter(restau => restau.restaurantID === props.restaurantID)[0]),\n        _useState2 = _slicedToArray(_useState, 2),\n        restaurant = _useState2[0],\n        setRestaurant = _useState2[1];\n\n  console.log(restaurant); // useEffect(() => {\n  //     setRestaurant(restaurant);\n  //     console.log(restaurant);\n  // },[setRestaurant(restau)])\n\n  var allRestaurants = restaurants;\n\n  const changeDisplayDetails = () => {\n    // restau.displayDetails = !restaurant.displayDetails;\n    // setRestaurant(restau);\n    allRestaurants.displayDetails = !restaurant.displayDetails;\n    console.log(\"restaurant : \", restaurant);\n    allRestaurants.splice(0, 1, restaurant);\n    updateRestaurants(allRestaurants);\n  };\n\n  useEffect(() => {\n    updateRestaurants(restaurants);\n    console.log(restaurants);\n  });\n\n  const displayRestaurant = () => {\n    return React.createElement(\"li\", {\n      key: restaurant.restaurantID,\n      className: \"itemList\",\n      id: \"restaurant-\" + restaurant.restaurantID,\n      onClick: changeDisplayDetails,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, (console.log(\"composant\"), restaurants.filter(restaurant.restaurantID === restaurant.restaurantID)[0].displayDetails === true ? //restaurant.displayDetails ?\n    React.createElement(CardDetails, {\n      restaurant: restaurant,\n      moyenneAvis: restaurant.average,\n      avis: restaurant.ratings,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      className: \"cardRestaurant\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"imgRestaurant\",\n      src: restaurant.img,\n      alt: \"Le restaurant\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        marginTop: \"auto\",\n        marginBottom: \"auto\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, restaurant.restaurantName), React.createElement(\"div\", {\n      className: \"moyenneAvis\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"moyenneAvisText\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, restaurant.average), React.createElement(\"img\", {\n      src: \"etoile.png\",\n      className: \"etoileAvis\",\n      alt: \"Etoile des avis\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"adresse\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, restaurant.address)))));\n  };\n\n  return React.createElement(\"div\", {\n    className: \"card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, displayRestaurant());\n};\n\nexport default Card;","map":{"version":3,"sources":["/Users/simonfauvre/Documents/GitHub/P7/src/components/Card.js"],"names":["React","useState","useEffect","useContext","CardDetails","RestaurantContext","Card","props","restaurants","updateRestaurants","filter","restau","restaurantID","restaurant","setRestaurant","console","log","allRestaurants","changeDisplayDetails","displayDetails","splice","displayRestaurant","average","ratings","img","marginTop","marginBottom","restaurantName","address"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useContext} from \"react\";\nimport \"../style/Card.css\";\nimport CardDetails from \"./Card_Details\";\nimport RestaurantContext from \"./RestaurantContext\";\n\nconst Card = props => {\n\n    const {restaurants, updateRestaurants} = useContext(RestaurantContext);\n    const [restaurant, setRestaurant] = useState(restaurants.filter(restau => restau.restaurantID === props.restaurantID)[0]);\n\n    console.log(restaurant);\n\n    // useEffect(() => {\n    //     setRestaurant(restaurant);\n    //     console.log(restaurant);\n    // },[setRestaurant(restau)])\n\n    var allRestaurants = restaurants;\n\n    const changeDisplayDetails = () => {\n        // restau.displayDetails = !restaurant.displayDetails;\n        // setRestaurant(restau);\n        allRestaurants.displayDetails = !restaurant.displayDetails;\n        console.log(\"restaurant : \", restaurant);\n        allRestaurants.splice(0, 1, restaurant);\n        updateRestaurants(allRestaurants);\n    }\n\n    useEffect(() => {\n        updateRestaurants(restaurants);\n        console.log(restaurants);\n    })\n\n    const displayRestaurant = () => {\n        return(\n        <li \n            key={restaurant.restaurantID} \n            className=\"itemList\" \n            id={\"restaurant-\" + restaurant.restaurantID} \n            onClick={changeDisplayDetails}>\n                {console.log(\"composant\"),\n                restaurants.filter(restaurant.restaurantID === restaurant.restaurantID)[0].displayDetails === true ?\n                //restaurant.displayDetails ?\n                <CardDetails restaurant={restaurant} moyenneAvis={restaurant.average} avis={restaurant.ratings}/> : \n                <div className=\"cardRestaurant\">\n                    <img className=\"imgRestaurant\" src={restaurant.img} alt=\"Le restaurant\"></img>\n                    <div style={{marginTop: \"auto\", marginBottom: \"auto\"}}>\n                        <h2>{restaurant.restaurantName}</h2>\n                        <div className=\"moyenneAvis\">\n                            <span className=\"moyenneAvisText\">{restaurant.average}</span>\n                            <img src=\"etoile.png\" className=\"etoileAvis\" alt=\"Etoile des avis\"></img>\n                        </div>\n                        <div className=\"adresse\">{restaurant.address}</div>\n                    </div>\n                </div>}\n        </li>);\n    }\n\n    return(\n        <div className=\"card\">\n            {displayRestaurant()}\n        </div>\n    );\n}\n\nexport default Card;"]},"metadata":{},"sourceType":"module"}